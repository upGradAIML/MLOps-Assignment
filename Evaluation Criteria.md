# **Evaluation Criteria**
<!-- 
## **MODEL EXPERIMENTATION**

Criteria   | Sub Criteria   | Max Marks
:-------|:------------------------- | :-----:
**1.0** Setup pycaret and mlflow environment | Create mlflow server with proper db location	| 1
-- | Setting up mlflow tracking uri  | 1
--  | Create pycaret's setup function  | 2
**2.0** Building all the specified models in pycaret with all the features  |  training all the models using pycaret  | 1
**3.0** Screenshot of mlflow ui | screenshot of all the experiments	| 1
--  |  screenshot of one experiments with all the artifacts visible  | 1
**4.0** Building the best pycaret with only the specified features and no transformations | Create pycaret's setup function such that it only encodes our categorical variable and does not transform our variables | 1
**5.0** Screenshot of mlflow ui after dropping features | screenshot of all the experiments	 | 1
-- | screenshot of one experiments with all the artifacts visible | 1


## **DATA PIPELINE**
Create functions for data pipeline in utils.py ( 20 marks )

Function   | Marks 
:---------------:|:-------
def build_dbs() | 4
def load_data_into_db() | 4
def map_city_tier()	| 4
def map_categorical_vars() | 4
def interactions_mapping() | 4 -->

| Level 1                     | Level 2                                                                                                                           | Level 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Code/PDF | Max Marks |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|-----------|
| Model Experimentation (10%) | Setup pycaret and mlflow environment                                                                                              | create mlflow server with proper db location                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Code     | 1         |
|                             |                                                                                                                                   | setting up mlflow tracking uri                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Code     | 1         |
|                             |                                                                                                                                   | Create pycaret's setup function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Code     | 2         |
|                             | building all the specified models in pycaret with all the features                                                                | training all the models using pycaret                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Code     | 1         |
|                             | Screenshot of mlflow ui                                                                                                           | screenshot of all the experiments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PDF      | 2         |
|                             |                                                                                                                                   | screenshot of one experiments with all the artifacts visible                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |          |           |
|                             | building the best pycaret with only the specified features  and no transformations                                                | Create pycaret's setup function such that it only encodes our categorical variable and does not transform our variables                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Code     | 1         |
|                             | Screenshot of mlflow ui after dropping features                                                                                   | screenshot of all the experiments                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | PDF      | 2         |
|                             |                                                                                                                                   | screenshot of one experiments with all the artifacts visible                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |          |           |
| Data Pipeline (40 %)        | Create functions for data pipeline in utils.py ( 20 marks )                                                                       | Define the function to build database<br/><br/>def build_dbs():<br/>    '''<br/>    This function checks if the db file with specified name is present <br/>    in the /Assignment/01_data_pipeline/scripts folder. If it is not present it creates <br/>    the db file with the given name at the given path. <br/><br/><br/>    INPUTS<br/>        db_file_name : Name of the database file 'utils_output.db'<br/>        db_path : path where the db file should be '   <br/><br/><br/>    OUTPUT<br/>    The function returns the following under the conditions:<br/>        1. If the file exsists at the specified path<br/>                prints 'DB Already Exsists' and returns 'DB Exsists'<br/><br/>        2. If the db file is not present at the specified loction<br/>                prints 'Creating Database' and creates the sqlite db <br/>                file at the specified path with the specified name and <br/>                once the db file is created prints 'New DB Created' and <br/>                returns 'DB created'<br/><br/><br/>    SAMPLE USAGE<br/>        build_dbs()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Code     | 4         |
|                             |                                                                                                                                   | Define function to load the csv file to the database<br/><br/><br/>def load_data_into_db():<br/>    '''<br/>    Thie function loads the data present in datadirectiry into the db<br/>    which was created previously.<br/>    It also replaces any null values present in 'toal_leads_dropped' and<br/>    'referred_lead' with 0.<br/><br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        data_directory : path of the directory where 'leadscoring.csv' <br/>                        file is present<br/>        <br/><br/>    OUTPUT<br/>        Saves the processed dataframe in the db in a table named 'loaded_data'.<br/>        If the table with the same name already exsists then the function <br/>        replaces it.<br/><br/><br/>    SAMPLE USAGE<br/>        load_data_into_db()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Code     | 4         |
|                             |                                                                                                                                   | Define function to map cities to their respective tiers<br/><br/><br/>    <br/>def map_city_tier():<br/>    '''<br/>    This function maps all the cities to their respective tier as per the<br/>    mappings provided in /mappings/city_tier_mapping.py file. If a<br/>    particular city's tier isn't mapped in the city_tier_mapping.py then<br/>    the function maps that particular city to 3.0 which represents<br/>    tier-3.<br/><br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        city_tier_mapping : a dictionary that maps the cities to their tier<br/><br/>    <br/>    OUTPUT<br/>        Saves the processed dataframe in the db in a table named<br/>        'city_tier_mapped'. If the table with the same name already <br/>        exsists then the function replaces it.<br/><br/>    <br/>    SAMPLE USAGE<br/>        map_city_tier()<br/><br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Code     | 4         |
|                             |                                                                                                                                   | Define function to map insignificant categorial variables to "others"<br/><br/><br/><br/>def map_categorical_vars():<br/>    '''<br/>    This function maps all the unsugnificant variables present in 'first_platform_c'<br/>    'first_utm_medium_c' and 'first_utm_source_c'. The list of significant variables<br/>    should be stored in a python file in the 'significant_categorical_level.py' <br/>    so that it can be imported as a variable in utils file.<br/>    <br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        list_platform : list of all the significant platform.<br/>        list_medium : list of all the significat medium<br/>        list_source : list of all rhe significant source<br/><br/>        **NOTE : list_platform, list_medium & list_source are all constants and<br/>                 must be stored in 'significant_categorical_level.py'<br/>                 file. The significant levels are calculated by taking top 90<br/>                 percentils of all the levels. For more information refer<br/>                 'data_cleaning.ipynb' notebook.<br/>  <br/><br/>    OUTPUT<br/>        Saves the processed dataframe in the db in a table named<br/>        'categorical_variables_mapped'. If the table with the same name already <br/>        exsists then the function replaces it.<br/><br/>    <br/>    SAMPLE USAGE<br/>        map_categorical_vars()<br/>    '''                                                                                                                                      | Code     | 4         |
|                             |                                                                                                                                   | # Define function that maps interaction columns into 4 types of interactions<br/><br/>def interactions_mapping():<br/>    '''<br/>    This function maps the interaction columns into 4 unique interaction columns<br/>    These mappings are present in 'interaction_mapping.csv' file. <br/><br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        interaction_mapping_file : path to the csv file containing interaction's<br/>                                   mappings<br/>        index_columns : list of columns to be used as index while pivoting and<br/>                        unpivoting<br/>        NOTE : Since while inference we will not have 'app_complete_flag' which is<br/>        our label, we will have to exculde it from our index_columns. It is recommended <br/>        that you use an if loop and check if 'app_complete_flag' is present in <br/>        'categorical_variables_mapped' table and if it is present pass a list with <br/>        'app_complete_flag' in it as index_column else pass a list without 'app_complete_flag'<br/>        in it.<br/><br/>    <br/>    OUTPUT<br/>        Saves the processed dataframe in the db in a table named <br/>        'interactions_mapped'. If the table with the same name already exsists then <br/>        the function replaces it.<br/>        <br/>        It also drops all the features that are not requried for training model and <br/>        writes it in a table named 'model_input'<br/><br/>    <br/>    SAMPLE USAGE<br/>        interactions_mapping()<br/>    ''' | Code     | 4         |
|                             | Create data validation checks for input raw data and output data of the data pre processing pipeline ( 6 marks)                   | # Define function to validate raw data's schema<br/><br/><br/>def raw_data_schema_check():<br/>    '''<br/>    This function check if all the columns mentioned in schema.py are present in<br/>    leadscoring.csv file or not.<br/><br/>   <br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be   <br/>        raw_data_schema : schema of raw data in the form oa list/tuple as present <br/>                          in 'schema.py'<br/><br/>    OUTPUT<br/>        If the schema is in line then prints <br/>        'Raw datas schema is in line with the schema present in schema.py' <br/>        else prints<br/>        'Raw datas schema is NOT in line with the schema present in schema.py'<br/><br/>    <br/>    SAMPLE USAGE<br/>        raw_data_schema_check<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Code     | 3         |
|                             |                                                                                                                                   | # Define function to validate model's input schema<br/><br/><br/>def model_input_schema_check():<br/>    '''<br/>    This function check if all the columns mentioned in model_input_schema in <br/>    schema.py are present in table named in 'model_input' in db file.<br/><br/>   <br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be   <br/>        raw_data_schema : schema of models input data in the form oa list/tuple<br/>                          present as in 'schema.py'<br/><br/>    OUTPUT<br/>        If the schema is in line then prints <br/>        'Models input schema is in line with the schema present in schema.py'<br/>        else prints<br/>        'Models input schema is NOT in line with the schema present in schema.py'<br/>    <br/>    SAMPLE USAGE<br/>        raw_data_schema_check                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Code     | 3         |
|                             | Write unit tests for functions in data pipeline (4 marks)                                                                         | # Write test cases for load_data_into_db() function<br/><br/><br/>def test_load_data_into_db():<br/>    """_summary_<br/>    This function checks if the load_data_into_db function is working properly by<br/>    comparing its output with test cases provided in the db in a table named<br/>    'loaded_data_test_case'<br/><br/><br/>    SAMPLE USAGE<br/>        output=test_get_data()<br/><br/>    """                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Code     | 1         |
|                             |                                                                                                                                   | # Write test cases for map_city_tier() function<br/><br/>def test_map_city_tier():<br/>    """_summary_<br/>    This function checks if map_city_tier function is working properly by<br/>    comparing its output with test cases provided in the db in a table named<br/>    'city_tier_mapped_test_case'<br/><br/><br/>    SAMPLE USAGE<br/>        output=test_map_city_tier()<br/><br/>    """                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Code     | 1         |
|                             |                                                                                                                                   | # Write test cases for map_categorical_vars() function<br/>  <br/>def test_map_categorical_vars():<br/>    """_summary_<br/>    This function checks if map_cat_vars function is working properly by<br/>    comparing its output with test cases provided in the db in a table named<br/>    'categorical_variables_mapped_test_case'<br/><br/><br/>    SAMPLE USAGE<br/>        output=test_map_cat_vars()<br/><br/>    """                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Code     | 1         |
|                             |                                                                                                                                   | # Write test cases for interactions_mapping() function<br/>    <br/>def test_interactions_mapping():<br/>    """_summary_<br/>    This function checks if test_column_mapping function is working properly by<br/>    comparing its output with test cases provided in the db in a table named<br/>    'interactions_mapped_test_case'<br/><br/><br/>    SAMPLE USAGE<br/>        output=test_column_mapping()<br/><br/>    """                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Code     | 1         |
|                             | Create constants.py file for Data Pipeline (3 marks)                                                                              | The constants file should contain:<br/><br/>DB_PATH = <br/>DB_FILE_NAME = <br/>DATA_DIRECTORY = <br/>INTERACTION_MAPPING = <br/><br/><br/>INDEX_COLUMNS_TRAINING =<br/><br/>INDEX_COLUMNS_INFERENCE = [<br/><br/>NOT_FEATURES = <br/><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Code     | 3         |
|                             | Create significant_categorical_level.py for mapping of 'first_platform_c' 'first_utm_medium_c' and 'first_utm_source_c' (1 marks) | list_platform=<br/><br/>list_medium=<br/><br/>list_source=                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Code     | 1         |
|                             | Create an airflow dag python file for data pipeline (6 marks)                                                                     | Create an airflow dag python file for data pipeline <br/>1. Create task for each function(5 marks)<br/># Create a task for build_dbs() function with task_id 'building_db'<br/># Create a task for raw_data_schema_check() function with task_id 'checking_raw_data_schema'<br/># Create a task for load_data_into_db() function with task_id 'loading_data'<br/># Create a task for map_city_tier() function with task_id 'mapping_city_tier'<br/># Create a task for map_categorical_vars() function with task_id 'mapping_categorical_vars'<br/># Create a task for interactions_mapping() function with task_id 'mapping_interactions'<br/># Create a task for model_input_schema_check() function with task_id 'checking_model_inputs_schema'<br/>3. Define the relation between the tasks (1 mark)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Code     | 3         |
|                             |                                                                                                                                   | Screenshot of sucessful execution Airflow DAG in graph <br/><br/>Screenshot of Airflow UI grid<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PDF      | 3         |
| Training Pipeline (25%)     | Create functions for training pipeline (10%) + setup mlflow in utils.py                                                           | <br/># Define the function to encode features<br/><br/><br/>def encode_features():<br/>    '''<br/>    This function one hot encodes the categorical features present in our  <br/>    training dataset. This encoding is needed for feeding categorical data <br/>    to many scikit-learn models.<br/><br/>    INPUTS<br/>        db_file_name : Name of the database file <br/>        db_path : path where the db file should be<br/>        ONE_HOT_ENCODED_FEATURES : list of the features that needs to be there in the final encoded dataframe<br/>        FEATURES_TO_ENCODE: list of features  from cleaned data that need to be one-hot encoded<br/>       <br/><br/>    OUTPUT<br/>        1. Save the encoded features in a table - features<br/>        2. Save the target variable in a separate table - target<br/><br/><br/>    SAMPLE USAGE<br/>        encode_features()<br/>        <br/>    **NOTE : You can modify the encode_featues function used in heart disease's inference<br/>        pipeline from the pre-requisite module for this.<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Code     | 4         |
|                             |                                                                                                                                   | # Define the function to train the model<br/><br/><br/>def get_trained_model():<br/>    '''<br/>    This function setups mlflow experiment to track the run of the training pipeline. It <br/>    also trains the model based on the features created in the previous function and <br/>    logs the train model into mlflow model registry for prediction. The input dataset is split<br/>    into train and test data and the auc score calculated on the test data and<br/>    recorded as a metric in mlflow run.   <br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/><br/><br/>    OUTPUT<br/>        Tracks the run in experiment named 'Lead_Scoring_Training_Pipeline'<br/>        Logs the trained model into mlflow model registry with name 'LightGBM'<br/>        Logs the metrics and parameters into mlflow run<br/>        Calculate auc from the test data and log into mlflow run  <br/><br/>    SAMPLE USAGE<br/>        get_trained_model()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Code     | 6         |
|                             |                                                                                                                                   | screenshot of  experiments with all the artifacts visible                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | PDF      | 2         |
|                             |                                                                                                                                   | screenshot of model registry with model name and stage as 'production'                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | PDF      | 2         |
|                             | Create constants file of training pipeline                                                                                        | The Constants file should contain the following: <br/><br/>1. Path of all the files and folders<br/>2. Constant variables<br/>3. Configurations                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Code     | 5         |
|                             |                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |          |           |
|                             | Create an airflow dag python file for training pipeline                                                                           | Create an airflow dag python file for training pipeline                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Code     | 3         |
|                             |                                                                                                                                   | Screenshot of sucessful execution Airflow DAG in graph <br/><br/>Screenshot of Airflow UI grid<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PDF      | 3         |
| Inference Pipeline (25%)    | Create functions for inference pipeline in utils.py                                                                               | <br/>Define the function to encode the categorical variables<br/><br/>def encode_features():<br/>    '''<br/>    This function one hot encodes the categorical features present in our  <br/>    training dataset. This encoding is needed for feeding categorical data <br/>    to many scikit-learn models.<br/><br/>    INPUTS<br/>        db_file_name : Name of the database file <br/>        db_path : path where the db file should be<br/>        ONE_HOT_ENCODED_FEATURES : list of the features that needs to be there in the final encoded dataframe<br/>        FEATURES_TO_ENCODE: list of features  from cleaned data that need to be one-hot encoded<br/>        **NOTE : You can modify the encode_featues function used in heart disease's inference<br/>        pipeline for this.<br/><br/>    OUTPUT<br/>        1. Save the encoded features in a table - features<br/><br/>    SAMPLE USAGE<br/>        encode_features()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Code     | 4         |
|                             |                                                                                                                                   | Define the function to load the model from mlflow model registry<br/><br/><br/>def get_models_prediction():<br/>    '''<br/>    This function loads the model which is in production from mlflow registry and <br/>    uses it to do prediction on the input dataset. Please note this function will the load<br/>    the latest version of the model present in the production stage. <br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        model from mlflow model registry<br/>        model name: name of the model to be loaded<br/>        stage: stage from which the model needs to be loaded i.e. production<br/><br/><br/>    OUTPUT<br/>        Store the predicted values along with input data into a table<br/><br/>    SAMPLE USAGE<br/>        load_model()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Code     | 6         |
|                             |                                                                                                                                   | Define the function to check the distribution of prediction column<br/><br/>def prediction_ratio_check():<br/>    '''<br/>    This function calculates the % of 1 and 0 predicted by the model and  <br/>    and writes it to a file named 'prediction_distribution.txt'.This file <br/>    should be created in the ~/airflow/dags/Lead_scoring_inference_pipeline <br/>    folder. <br/>    This helps us to monitor if there is any drift observed in the predictions <br/>    from our model at an overall level. This would determine our decision on <br/>    when to retrain our model.<br/>    <br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/><br/>    OUTPUT<br/>        Write the output of the monitoring check in prediction_distribution.txt with <br/>        timestamp.<br/><br/>    SAMPLE USAGE<br/>        prediction_col_check()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Code     | 3         |
|                             |                                                                                                                                   | Define the function to check input features after encoding <br/><br/><br/>def input_features_check():<br/>    '''<br/>    This function checks whether all the input columns are present in our new<br/>    data. This ensures the prediction pipeline doesn't break because of change in<br/>    columns in input data.<br/><br/>    INPUTS<br/>        db_file_name : Name of the database file<br/>        db_path : path where the db file should be<br/>        ONE_HOT_ENCODED_FEATURES: List of all the features which need to be present<br/>        in our input data.<br/><br/>    OUTPUT<br/>        It writes the output in a log file based on whether all the columns are present<br/>        or not.<br/>        1. If all the input columns are present then it logs - 'All the models input are present'<br/>        2. Else it logs 'Some of the models inputs are missing'<br/><br/>    SAMPLE USAGE<br/>        input_col_check()<br/>    '''                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Code     | 3         |
|                             | Create a constants.py file                                                                                                        | should be created in the ~/airflow/dags/Lead_scoring_inference_pipeline                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Code     | 4         |
|                             | Create an airflow dag python file for inference pipeline                                                                          | Create an airflow dag python file for inference pipeline <br/>1. Create task for each function (2 marks)<br/>#Create a task for encode_data_task() function with task_id 'encoding_categorical_variables'<br/>#Create a task for load_model() function with task_id 'generating_models_prediction'<br/>#Create a task for prediction_col_check() function with task_id 'checking_model_prediction_ratio'<br/>#Create a task for input_features_check() function with task_id 'checking_input_features'<br/><br/>2.Define relation between tasks (1 mark)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Code     | 3         |
|                             |                                                                                                                                   | Screenshot of sucessful execution Airflow DAG in graph <br/><br/>Screenshot of Airflow UI grid<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | PDF      | 2         |